<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blaze Kitchen - Culinary Fire & Flavor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2c0d0d 0%, #1a1a1a 100%);
            color: #fff;
            line-height: 1.6;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2c0d0d 0%, #1a1a1a 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading-logo {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff6b35, #ffd700, #f7931e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: jump 1s infinite alternate;
        }

        .loading-text {
            font-size: 1.5rem;
            color: #ffd700;
            text-align: center;
        }

        .jumping-letters {
            display: inline-block;
        }

        .jumping-letters span {
            display: inline-block;
            animation: jump 1s infinite alternate;
        }

        .jumping-letters span:nth-child(2) { animation-delay: 0.1s; }
        .jumping-letters span:nth-child(3) { animation-delay: 0.2s; }
        .jumping-letters span:nth-child(4) { animation-delay: 0.3s; }
        .jumping-letters span:nth-child(5) { animation-delay: 0.4s; }

        @keyframes jump {
            0% { transform: translateY(0); }
            100% { transform: translateY(-20px); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            padding: 20px 0;
            border-bottom: 5px solid #ff4500;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-img {
            width: 60px;
            height: 60px;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }

        .logo-text {
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 2px 2px 0 #ff4500;
            background: linear-gradient(45deg, #fff, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .tagline {
            font-size: 1.2rem;
            color: #fff;
            text-shadow: 1px 1px 0 #000;
        }

        .user-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .auth-btn {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #fff;
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .auth-btn:hover {
            background: rgba(255, 255, 255, 0.9);
            color: #ff6b35;
        }

        .password-toggle {
            background: none;
            border: none;
            color: #ff6b35;
            cursor: pointer;
            margin-left: 10px;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #fff;
            color: white;
            padding: 8px 35px 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
        }

        .dropdown-btn:after {
            content: "‚ñº";
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8rem;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.5);
            border-radius: 10px;
            z-index: 1;
            overflow: hidden;
            margin-top: 5px;
        }

        .dropdown-content a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: all 0.3s ease;
        }

        .dropdown-content a:hover {
            background: rgba(255, 107, 53, 0.7);
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .user-dropdown {
            position: relative;
        }

        .user-menu {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background: rgba(0, 0, 0, 0.9);
            min-width: 150px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.5);
            border-radius: 10px;
            z-index: 1;
            overflow: hidden;
            margin-top: 5px;
        }

        .user-menu a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: all 0.3s ease;
        }

        .user-menu a:hover {
            background: rgba(255, 107, 53, 0.7);
        }

        .user-dropdown:hover .user-menu {
            display: block;
        }

        .add-recipe-btn {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.5);
            transition: all 0.3s ease;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-recipe-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 107, 53, 0.7);
        }

        .add-recipe-tooltip {
            position: absolute;
            bottom: 70px;
            left: 0;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 10px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .add-recipe-btn:hover .add-recipe-tooltip {
            opacity: 1;
        }

        /* Navigation */
        nav {
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .nav-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .nav-btn {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 0 #ff4500;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 0 #ff4500;
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #ff4500, #ff6b35);
            transform: translateY(2px);
            box-shadow: 0 2px 0 #ff4500;
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        /* Recipe Grid */
        .recipe-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .recipe-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 107, 53, 0.2);
        }

        .recipe-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(255, 107, 53, 0.4);
            border-color: #ff6b35;
        }

        .recipe-image {
            height: 200px;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .recipe-image-placeholder {
            font-size: 4rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .recipe-publisher {
            position: absolute;
            top: 10px;
            left: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .publisher-avatar {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: #ff6b35;
            font-weight: bold;
        }

        .recipe-content {
            padding: 20px;
        }

        .recipe-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .recipe-title {
            font-size: 1.4rem;
            color: #ffd700;
        }

        .recipe-heat {
            font-size: 1.2rem;
        }

        .recipe-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #ccc;
        }

        .recipe-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .recipe-description {
            color: #ddd;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .recipe-actions {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .action-btn {
            background: none;
            border: none;
            color: #ccc;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
            padding: 5px 10px;
            border-radius: 15px;
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #ff6b35;
        }

        .action-btn.active {
            color: #ff6b35;
        }

        .action-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .view-recipe-btn {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            transition: all 0.3s ease;
        }

        .view-recipe-btn:hover {
            background: linear-gradient(135deg, #ff4500, #ff6b35);
            transform: translateY(-2px);
        }

        /* Recipe Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background: linear-gradient(135deg, #2c0d0d 0%, #1a1a1a 100%);
            margin: 50px auto;
            padding: 30px;
            border-radius: 20px;
            max-width: 800px;
            position: relative;
            border: 2px solid #ff6b35;
            box-shadow: 0 0 50px rgba(255, 107, 53, 0.5);
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ff6b35;
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .modal-title {
            font-size: 2.5rem;
            color: #ffd700;
            margin-bottom: 10px;
        }

        .modal-heat {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .modal-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        /* Warning banner above ingredients */
        .recipe-warning-banner {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            border-left: 5px solid #ff4500;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.9; }
            50% { opacity: 1; }
            100% { opacity: 0.9; }
        }

        .recipe-warning-banner h3 {
            color: white;
            margin: 0;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .ingredients-section, .instructions-section, .comments-section {
            margin-bottom: 30px;
        }

        .section-title {
            color: #ff6b35;
            margin-bottom: 15px;
            font-size: 1.5rem;
            border-bottom: 2px solid #ff6b35;
            padding-bottom: 5px;
        }

        .ingredients-list {
            list-style: none;
        }

        .ingredients-list li {
            padding: 10px;
            border-bottom: 1px solid rgba(255, 107, 53, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ingredients-list li:before {
            content: "üî•";
        }

        .instructions-list {
            list-style: none;
            counter-reset: instruction-counter;
        }

        .instructions-list li {
            counter-increment: instruction-counter;
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(255, 107, 53, 0.1);
            border-radius: 10px;
            border-left: 4px solid #ff6b35;
        }

        .instructions-list li:before {
            content: counter(instruction-counter);
            background: #ff6b35;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
        }

        /* Comments Section */
        .comment-form {
            margin-bottom: 30px;
        }

        .comment-input {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 107, 53, 0.5);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            margin-bottom: 15px;
            resize: vertical;
            min-height: 100px;
        }

        .comment-submit {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .comment-submit:hover {
            background: linear-gradient(135deg, #ff4500, #ff6b35);
        }

        .comments-list {
            list-style: none;
        }

        .comment-item {
            padding: 20px;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            border-left: 4px solid #ff6b35;
        }

        .comment-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .comment-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: #ff6b35;
            font-weight: bold;
        }

        .comment-author {
            font-weight: bold;
            color: #ffd700;
        }

        .comment-date {
            color: #ccc;
            font-size: 0.9rem;
        }

        .comment-text {
            color: #ddd;
            line-height: 1.5;
        }

        /* Search Section */
        .search-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .search-box {
            display: flex;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-input {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 25px 0 0 25px;
            background: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
        }

        .search-btn {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: none;
            color: white;
            padding: 15px 25px;
            border-radius: 0 25px 25px 0;
            cursor: pointer;
            font-weight: bold;
        }

        .search-info {
            margin-top: 15px;
            font-size: 1rem;
            color: #ffd700;
        }

        .search-info.error {
            color: #ff6b35;
        }

        /* Add Recipe Modal */
        .add-recipe-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1001;
            overflow-y: auto;
        }

        .add-recipe-content {
            background: linear-gradient(135deg, #2c0d0d 0%, #1a1a1a 100%);
            margin: 50px auto;
            padding: 30px;
            border-radius: 20px;
            max-width: 600px;
            position: relative;
            border: 2px solid #ff6b35;
            box-shadow: 0 0 50px rgba(255, 107, 53, 0.5);
        }

        .add-recipe-step {
            display: none;
        }

        .add-recipe-step.active {
            display: block;
        }

        .step-title {
            color: #ff6b35;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8rem;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #ffd700;
        }

        .input-group input, .input-group textarea, .input-group select {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid rgba(255, 107, 53, 0.5);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }

        .input-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .password-container {
            position: relative;
        }

        .password-container input {
            padding-right: 50px;
        }

        .ingredient-item {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .ingredient-item input {
            flex: 1;
        }

        .remove-ingredient {
            background: #ff4500;
            border: none;
            color: white;
            width: 40px;
            border-radius: 5px;
            cursor: pointer;
        }

        .add-ingredient-btn {
            background: rgba(255, 107, 53, 0.3);
            border: 1px dashed #ff6b35;
            color: #ff6b35;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .add-ingredient-btn:hover {
            background: rgba(255, 107, 53, 0.5);
        }

        .instruction-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #ff6b35;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .category-option {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-option:hover {
            background: rgba(255, 107, 53, 0.3);
        }

        .category-option.selected {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            box-shadow: 0 4px 10px rgba(255, 107, 53, 0.5);
        }

        .image-upload {
            text-align: center;
            padding: 30px;
            border: 2px dashed rgba(255, 107, 53, 0.5);
            border-radius: 15px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .image-upload:hover {
            border-color: #ff6b35;
            background: rgba(255, 107, 53, 0.1);
        }

        .image-preview {
            max-width: 100%;
            max-height: 300px;
            border-radius: 10px;
            margin-top: 15px;
            display: none;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .nav-btn-step {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .nav-btn-step:hover {
            background: linear-gradient(135deg, #ff4500, #ff6b35);
        }

        .nav-btn-step:disabled {
            background: rgba(255, 107, 53, 0.3);
            cursor: not-allowed;
        }

        /* Login/Signup Modal */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1002;
        }

        .auth-content {
            background: linear-gradient(135deg, #2c0d0d 0%, #1a1a1a 100%);
            margin: 100px auto;
            padding: 30px;
            border-radius: 20px;
            max-width: 400px;
            position: relative;
            border: 2px solid #ff6b35;
            box-shadow: 0 0 50px rgba(255, 107, 53, 0.5);
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 107, 53, 0.5);
        }

        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auth-tab.active {
            color: #ff6b35;
            border-bottom: 2px solid #ff6b35;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .auth-switch-link {
            text-align: center;
            margin-top: 20px;
            color: #ccc;
        }

        .auth-switch-link a {
            color: #ff6b35;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
        }

        .auth-switch-link a:hover {
            text-decoration: underline;
        }

        /* Profile Modal */
        .profile-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1003;
        }

        .profile-content {
            background: linear-gradient(135deg, #2c0d0d 0%, #1a1a1a 100%);
            margin: 50px auto;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            position: relative;
            border: 2px solid #ff6b35;
            box-shadow: 0 0 50px rgba(255, 107, 53, 0.5);
        }

        .profile-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: #ff6b35;
            margin: 0 auto 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .profile-avatar:hover {
            transform: scale(1.1);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.5);
            z-index: 1004;
            transform: translateX(150%);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px;
            margin-top: 50px;
            border-top: 1px solid rgba(255, 107, 53, 0.3);
            color: #ccc;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
           
            .recipe-grid {
                order: 1;
            }
           
            .nav-container {
                flex-direction: column;
            }
           
            .logo-text {
                font-size: 1.8rem;
            }
           
            .header-container {
                flex-direction: column;
                gap: 15px;
            }
           
            .user-actions {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-logo">üî•</div>
        <div class="loading-text">
            <div class="jumping-letters">
                <span>B</span>
                <span>L</span>
                <span>A</span>
                <span>Z</span>
                <span>E</span>
            </div>
        </div>
        <div style="margin-top: 20px; color: #ffd700;">Loading delicious recipes...</div>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo-container">
                <div class="logo-img">üî•</div>
                <div>
                    <div class="logo-text">BLAZE KITCHEN</div>
                    <div class="tagline">Where Every Dish Ignites Your Culinary Spirit!</div>
                </div>
            </div>
            <div class="user-actions">
                <div id="auth-buttons">
                    <button class="auth-btn" id="login-btn">Log In</button>
                    <button class="auth-btn" id="signup-btn">Sign Up</button>
                    <button class="auth-btn" id="message-btn" onclick="window.location.href='message-us.html'">Message Us</button>
                </div>
                <div id="user-info" style="display: none;">
                    <div class="user-dropdown">
                        <button class="auth-btn" id="user-btn">
                            <span id="user-name">User</span> ‚ñº
                        </button>
                        <div class="user-menu">
                            <a href="#" onclick="openProfileModal()">Edit Profile</a>
                            <a href="#" onclick="showFavorites()">My Favorites</a>
                            <a href="#" onclick="logout()">Log Out</a>
                        </div>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropdown-btn">Explore</button>
                    <div class="dropdown-content">
                        <a href="https://www.allrecipes.com" target="_blank">All Recipes</a>
                        <a href="https://www.foodnetwork.com" target="_blank">Food Network</a>
                        <a href="https://www.epicurious.com" target="_blank">Epicurious</a>
                        <a href="https://www.bonappetit.com" target="_blank">Bon App√©tit</a>
                        <a href="https://www.tasty.co" target="_blank">Tasty</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Navigation -->
        <nav>
            <div class="nav-container">
                <button class="nav-btn active" onclick="showSection('all')">All Recipes</button>
                <button class="nav-btn" onclick="showSection('favorites')">My Favorites</button>
                <button class="nav-btn" onclick="showSection('search')">Search</button>
                <button class="nav-btn" onclick="showRandomRecipe()">Surprise Me!</button>
            </div>
        </nav>

        <!-- Search Section -->
        <div class="search-section" id="search-section">
            <h2>Find Your Perfect Recipe</h2>
            <div class="search-box">
                <input type="text" class="search-input" placeholder="Search for recipes, ingredients, or ask naturally..." id="search-input" onkeyup="handleSearchKeyup(event)">
                <button class="search-btn" onclick="searchRecipes()">Search</button>
            </div>
            <div id="search-info" class="search-info"></div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Recipe Grid -->
            <div class="recipe-grid" id="recipe-grid">
                <!-- Recipes will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Add Recipe Button -->
    <button class="add-recipe-btn" id="add-recipe-btn">
        +
        <span class="add-recipe-tooltip">Add Recipe</span>
    </button>

    <!-- Recipe Modal -->
    <div class="modal" id="recipe-modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">√ó</button>
            <div class="modal-header">
                <h2 class="modal-title" id="modal-title">Recipe Name</h2>
                <div class="modal-heat" id="modal-heat">üî•üî•üî•</div>
                <div class="modal-meta">
                    <span>‚è±Ô∏è <span id="modal-time">30 mins</span></span>
                    <span>‚ö° <span id="modal-difficulty">Medium</span></span>
                    <span>üçΩÔ∏è <span id="modal-servings">4 servings</span></span>
                </div>
            </div>
            
            <!-- Warning Banner -->
            <div class="recipe-warning-banner">
                <h3>‚ö†Ô∏è READ THE RECIPE BEFORE COOKING ‚ö†Ô∏è</h3>
            </div>
            
            <div class="ingredients-section">
                <h3 class="section-title">Ingredients</h3>
                <ul class="ingredients-list" id="modal-ingredients">
                    <!-- Ingredients will be populated by JavaScript -->
                </ul>
            </div>
            <div class="instructions-section">
                <h3 class="section-title">Instructions</h3>
                <ol class="instructions-list" id="modal-instructions">
                    <!-- Instructions will be populated by JavaScript -->
                </ol>
            </div>
            <div class="recipe-actions">
                <button class="action-btn" id="like-btn" onclick="handleLike()">üëç <span id="like-count">0</span></button>
                <button class="action-btn" id="dislike-btn" onclick="handleDislike()">üëé <span id="dislike-count">0</span></button>
                <button class="action-btn" id="comment-btn" onclick="toggleComments()">üí¨ <span id="comment-count">0</span></button>
                <button class="action-btn" id="favorite-btn" onclick="toggleFavorite()">‚≠ê <span id="favorite-text">Add to Favorites</span></button>
            </div>
            <div class="comments-section" id="comments-section" style="display: none;">
                <h3 class="section-title">Comments</h3>
                <div class="comment-form">
                    <textarea class="comment-input" id="comment-input" placeholder="Add your comment..."></textarea>
                    <button class="comment-submit" onclick="addComment()">Post Comment</button>
                </div>
                <ul class="comments-list" id="comments-list">
                    <!-- Comments will be populated by JavaScript -->
                </ul>
            </div>
        </div>
    </div>

    <!-- Add Recipe Modal -->
    <div class="add-recipe-modal" id="add-recipe-modal">
        <div class="add-recipe-content">
            <button class="close-modal" onclick="closeAddRecipeModal()">√ó</button>
            
            <!-- Step 1: Recipe Name -->
            <div class="add-recipe-step active" id="step1">
                <h2 class="step-title">Recipe Name</h2>
                <div class="input-group">
                    <label>What's the name of your recipe?</label>
                    <input type="text" id="recipe-name-input" placeholder="Enter recipe name">
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn-step" disabled>Previous</button>
                    <button class="nav-btn-step" onclick="nextStep(2)">Next</button>
                </div>
            </div>
            
            <!-- Step 2: Category -->
            <div class="add-recipe-step" id="step2">
                <h2 class="step-title">Select Category</h2>
                <div class="input-group">
                    <label>Choose a category for your recipe:</label>
                    <div class="category-grid" id="category-grid">
                        <!-- Categories will be populated by JavaScript -->
                    </div>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn-step" onclick="prevStep(1)">Previous</button>
                    <button class="nav-btn-step" onclick="nextStep(3)">Next</button>
                </div>
            </div>
            
            <!-- Step 3: Ingredients -->
            <div class="add-recipe-step" id="step3">
                <h2 class="step-title">Add Ingredients</h2>
                <div class="input-group">
                    <label>Ingredients:</label>
                    <div id="ingredients-container">
                        <div class="ingredient-item">
                            <input type="text" placeholder="Enter ingredient" class="ingredient-input">
                            <button class="remove-ingredient" onclick="removeIngredient(this)">√ó</button>
                        </div>
                    </div>
                    <button class="add-ingredient-btn" onclick="addIngredient()">+ Add Another Ingredient</button>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn-step" onclick="prevStep(2)">Previous</button>
                    <button class="nav-btn-step" onclick="nextStep(4)">Next</button>
                </div>
            </div>
            
            <!-- Step 4: Instructions -->
            <div class="add-recipe-step" id="step4">
                <h2 class="step-title">Add Instructions</h2>
                <div class="input-group">
                    <label>Instructions:</label>
                    <textarea id="instructions-input" placeholder="Enter each instruction on a new line"></textarea>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn-step" onclick="prevStep(3)">Previous</button>
                    <button class="nav-btn-step" onclick="processInstructions()">Next</button>
                </div>
            </div>
            
            <!-- Step 5: Review Instructions -->
            <div class="add-recipe-step" id="step5">
                <h2 class="step-title">Review Instructions</h2>
                <div id="instructions-review">
                    <!-- Instructions will be displayed here -->
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn-step" onclick="prevStep(4)">Previous</button>
                    <button class="nav-btn-step" onclick="nextStep(6)">Next</button>
                </div>
            </div>
            
            <!-- Step 6: Final Details -->
            <div class="add-recipe-step" id="step6">
                <h2 class="step-title">Final Details</h2>
                <div class="input-group">
                    <label>Cooking Time:</label>
                    <input type="text" id="cooking-time-input" placeholder="e.g., 30 mins">
                </div>
                <div class="input-group">
                    <label>Difficulty:</label>
                    <select id="difficulty-input">
                        <option value="Easy">Easy</option>
                        <option value="Medium">Medium</option>
                        <option value="Hard">Hard</option>
                        <option value="Expert">Expert</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Servings:</label>
                    <input type="text" id="servings-input" placeholder="e.g., 4 servings">
                </div>
                <div class="input-group">
                    <label>Heat Level:</label>
                    <select id="heat-input">
                        <option value="None">None (For desserts, drinks, etc.)</option>
                        <option value="üî•">Mild (üî•)</option>
                        <option value="üî•üî•">Medium (üî•üî•)</option>
                        <option value="üî•üî•üî•">Hot (üî•üî•üî•)</option>
                        <option value="üî•üî•üî•üî•">Extra Hot (üî•üî•üî•üî•)</option>
                    </select>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn-step" onclick="prevStep(5)">Previous</button>
                    <button class="nav-btn-step" onclick="nextStep(7)">Next</button>
                </div>
            </div>
            
            <!-- Step 7: Upload Image -->
            <div class="add-recipe-step" id="step7">
                <h2 class="step-title">Upload Recipe Image</h2>
                <div class="input-group">
                    <label>Add a photo of your delicious creation:</label>
                    <div class="image-upload" onclick="document.getElementById('image-input').click()">
                        <div>üì∑ Click to Upload Image</div>
                        <div style="font-size: 0.9rem; margin-top: 10px; color: #ccc;">
                            Supported formats: JPG, PNG, WebP
                        </div>
                        <img id="image-preview" class="image-preview" alt="Image preview">
                    </div>
                    <input type="file" id="image-input" accept="image/*" style="display: none;" onchange="previewImage(event)">
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn-step" onclick="prevStep(6)">Previous</button>
                    <button class="nav-btn-step" onclick="publishRecipe()">Publish Recipe</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Login/Signup Modal -->
    <div class="auth-modal" id="auth-modal">
        <div class="auth-content">
            <button class="close-modal" onclick="closeAuthModal()">√ó</button>
            <div class="auth-tabs">
                <div class="auth-tab active" onclick="showAuthForm('login')">Log In</div>
                <div class="auth-tab" onclick="showAuthForm('signup')">Sign Up</div>
            </div>
            
            <div class="auth-form active" id="login-form">
                <div class="input-group">
                    <label>Username or Email:</label>
                    <input type="text" id="login-username">
                </div>
                <div class="input-group">
                    <label>Password:</label>
                    <div class="password-container">
                        <input type="password" id="login-password">
                        <button type="button" class="password-toggle" onclick="togglePassword('login-password')">üëÅÔ∏è</button>
                    </div>
                </div>
                <button class="nav-btn-step" style="width: 100%;" onclick="login()">Log In</button>
                <div class="auth-switch-link">
                    Don't have an account? <a onclick="showAuthForm('signup')">Sign up here</a>
                </div>
            </div>
            
            <div class="auth-form" id="signup-form">
                <div class="input-group">
                    <label>Username:</label>
                    <input type="text" id="signup-username">
                </div>
                <div class="input-group">
                    <label>Email:</label>
                    <input type="email" id="signup-email">
                </div>
                <div class="input-group">
                    <label>Password:</label>
                    <div class="password-container">
                        <input type="password" id="signup-password">
                        <button type="button" class="password-toggle" onclick="togglePassword('signup-password')">üëÅÔ∏è</button>
                    </div>
                </div>
                <button class="nav-btn-step" style="width: 100%;" onclick="signup()">Sign Up</button>
                <div class="auth-switch-link">
                    Already have an account? <a onclick="showAuthForm('login')">Log in here</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="profile-modal" id="profile-modal">
        <div class="profile-content">
            <button class="close-modal" onclick="closeProfileModal()">√ó</button>
            <div class="profile-header">
                <div class="profile-avatar" onclick="changeAvatar()" id="profile-avatar">U</div>
                <h2 class="step-title">Edit Profile</h2>
            </div>
            <div class="input-group">
                <label>Username:</label>
                <input type="text" id="profile-username" value="User">
            </div>
            <div class="input-group">
                <label>Email:</label>
                <input type="email" id="profile-email" value="user@example.com">
            </div>
            <div class="input-group">
                <label>Bio:</label>
                <textarea id="profile-bio" placeholder="Tell us about yourself..."></textarea>
            </div>
            <div class="input-group">
                <label>Favorite Cuisine:</label>
                <select id="profile-cuisine">
                    <option value="">Select your favorite</option>
                    <option value="American">American</option>
                    <option value="Italian">Italian</option>
                    <option value="Indian">Indian</option>
                    <option value="Mexican">Mexican</option>
                    <option value="Chinese">Chinese</option>
                    <option value="Japanese">Japanese</option>
                </select>
            </div>
            <button class="nav-btn-step" style="width: 100%;" onclick="saveProfile()">Save Changes</button>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        Your recipe has been published successfully!
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>üî• Blaze Kitchen - Igniting Passion in Every Bite Since 2024 üî•</p>
            <p>Created with ‚ù§Ô∏è for food enthusiasts worldwide</p>
        </div>
    </footer>

    <script>
        // Recipe Data with 30 recipes with REAL food photos
        const recipes = {
            "American Classics": [
                {
                    id: "recipe1",
                    name: "Blazin' Burger Supreme",
                    image: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["1lb prime beef blend", "4 brioche buns", "4 slices pepper jack cheese", "8 strips applewood bacon", "1 red onion", "2 tomatoes", "Blaze sauce", "Jalape√±os", "Lettuce"],
                    instructions: [
                        "Form beef into 4 thick patties and season with Blaze rub",
                        "Grill over open flame 4-5 minutes per side for medium",
                        "Add cheese during last minute of cooking to melt",
                        "Toast buns with garlic butter until golden",
                        "Build burger with all toppings and generous Blaze sauce"
                    ],
                    time: "25 mins",
                    difficulty: "Medium",
                    servings: "4",
                    heat: "üî•üî•üî•",
                    category: "American Classics",
                    publisher: "Blaze",
                    likes: 124,
                    dislikes: 5,
                    userReactions: {}, // Store user reactions like {userId: 'like'/'dislike'}
                    comments: [],
                    favorites: []
                },
                {
                    id: "recipe2",
                    name: "Inferno Mac & Cheese",
                    image: "https://images.unsplash.com/photo-1543364195-bfe6e4932397?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["1lb elbow pasta", "2 cups sharp cheddar", "1 cup pepper jack", "2 cups heavy cream", "1/2 cup Blaze butter", "1/4 cup flour", "1 cup panko breadcrumbs", "1 tsp cayenne pepper"],
                    instructions: [
                        "Cook pasta al dente according to package directions",
                        "Melt butter and whisk in flour to create golden roux",
                        "Slowly add cream while whisking continuously until smooth",
                        "Add shredded cheeses and stir until completely melted",
                        "Mix in cooked pasta and transfer to baking dish",
                        "Top with spicy breadcrumb mix and bake at 375¬∞F for 20 mins"
                    ],
                    time: "45 mins",
                    difficulty: "Medium",
                    servings: "6",
                    heat: "üî•üî•",
                    category: "American Classics",
                    publisher: "Blaze",
                    likes: 89,
                    dislikes: 2,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Desserts & Sweets": [
                {
                    id: "recipe3",
                    name: "Chocolate Lava Cake",
                    image: "https://images.unsplash.com/photo-1624353365286-3f8d62dadadf?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["4oz dark chocolate", "1/2 cup butter", "2 eggs", "2 egg yolks", "1/4 cup sugar", "2 tbsp flour", "Pinch of salt", "Powdered sugar for dusting"],
                    instructions: [
                        "Preheat oven to 425¬∞F and butter 4 ramekins",
                        "Melt chocolate and butter together in double boiler",
                        "Whisk eggs, yolks and sugar until pale and thick",
                        "Fold in chocolate mixture and flour until just combined",
                        "Divide among ramekins and bake for 12-14 minutes",
                        "Dust with powdered sugar and serve immediately"
                    ],
                    time: "30 mins",
                    difficulty: "Medium",
                    servings: "4",
                    heat: "None",
                    category: "Desserts & Sweets",
                    publisher: "Blaze",
                    likes: 156,
                    dislikes: 1,
                    userReactions: {},
                    comments: [],
                    favorites: []
                },
                {
                    id: "recipe4",
                    name: "Classic Chocolate Chip Cookies",
                    image: "https://images.unsplash.com/photo-1499636136210-6f4ee915583e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["2 1/4 cups flour", "1 tsp baking soda", "1 tsp salt", "1 cup butter", "3/4 cup sugar", "3/4 cup brown sugar", "2 eggs", "2 tsp vanilla", "2 cups chocolate chips"],
                    instructions: [
                        "Preheat oven to 375¬∞F and line baking sheets",
                        "Cream butter and sugars until light and fluffy",
                        "Add eggs one at a time, then vanilla extract",
                        "Mix in dry ingredients until just combined",
                        "Fold in chocolate chips",
                        "Drop by tablespoonfuls and bake for 9-11 minutes"
                    ],
                    time: "25 mins",
                    difficulty: "Easy",
                    servings: "24 cookies",
                    heat: "None",
                    category: "Desserts & Sweets",
                    publisher: "Blaze",
                    likes: 203,
                    dislikes: 3,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Drinks & Beverages": [
                {
                    id: "recipe5",
                    name: "Caramel Monster Shake",
                    image: "https://images.unsplash.com/photo-1572490122747-3968b75cc699?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["3 scoops vanilla ice cream", "1/4 cup caramel sauce", "1 cup milk", "Whipped cream", "Caramel drizzle", "Chocolate chips", "Cookie crumbs"],
                    instructions: [
                        "Blend ice cream, caramel sauce and milk until smooth",
                        "Pour into tall chilled glass",
                        "Top with generous whipped cream swirl",
                        "Drizzle with caramel and sprinkle chocolate chips",
                        "Add cookie crumbs for extra crunch",
                        "Serve immediately with a wide straw"
                    ],
                    time: "10 mins",
                    difficulty: "Easy",
                    servings: "1",
                    heat: "None",
                    category: "Drinks & Beverages",
                    publisher: "Blaze",
                    likes: 78,
                    dislikes: 0,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Soups": [
                {
                    id: "recipe6",
                    name: "Creamy Tomato Soup",
                    image: "https://images.unsplash.com/photo-1547592166-23ac45744acd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["2 tbsp olive oil", "1 onion diced", "2 cloves garlic minced", "2 cans crushed tomatoes", "2 cups vegetable broth", "1/2 cup heavy cream", "Fresh basil", "Salt and pepper to taste"],
                    instructions: [
                        "Saut√© onion and garlic in olive oil until soft and fragrant",
                        "Add tomatoes and broth, bring to simmer for 20 minutes",
                        "Blend until completely smooth using immersion blender",
                        "Stir in cream and season with salt and pepper",
                        "Garnish with fresh basil leaves before serving"
                    ],
                    time: "30 mins",
                    difficulty: "Easy",
                    servings: "4",
                    heat: "None",
                    category: "Soups",
                    publisher: "Blaze",
                    likes: 95,
                    dislikes: 2,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Indian Spices": [
                {
                    id: "recipe7",
                    name: "Blazing Butter Chicken",
                    image: "https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["2lbs chicken thighs", "1 cup yogurt", "2 cups tomato puree", "1/2 cup butter", "1 cup heavy cream", "2 tbsp garam masala", "1 inch ginger", "4 cloves garlic", "2 tsp Kashmiri chili", "Fresh cilantro"],
                    instructions: [
                        "Marinate chicken in yogurt and spices for 4 hours minimum",
                        "Grill chicken until slightly charred and cooked through",
                        "Saut√© ginger and garlic in butter until fragrant",
                        "Add tomato puree and simmer for 15 minutes until thickened",
                        "Add cream and grilled chicken pieces",
                        "Simmer for 10 minutes and garnish with fresh cilantro"
                    ],
                    time: "1 hour",
                    difficulty: "Medium",
                    servings: "4",
                    heat: "üî•üî•üî•",
                    category: "Indian Spices",
                    publisher: "Blaze",
                    likes: 167,
                    dislikes: 4,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Breakfast & Brunch": [
                {
                    id: "recipe8",
                    name: "Fluffy Pancakes",
                    image: "https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["2 cups flour", "2 tbsp sugar", "2 tsp baking powder", "1 tsp salt", "2 eggs", "1 3/4 cups milk", "1/4 cup melted butter", "Maple syrup", "Fresh berries"],
                    instructions: [
                        "Mix dry ingredients in large bowl",
                        "Whisk eggs, milk and melted butter in separate bowl",
                        "Combine wet and dry ingredients until just mixed",
                        "Cook on hot griddle until bubbles form, then flip",
                        "Serve with maple syrup and fresh berries"
                    ],
                    time: "20 mins",
                    difficulty: "Easy",
                    servings: "4",
                    heat: "None",
                    category: "Breakfast & Brunch",
                    publisher: "Blaze",
                    likes: 142,
                    dislikes: 1,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "BBQ & Grilling": [
                {
                    id: "recipe9",
                    name: "Honey BBQ Ribs",
                    image: "https://images.unsplash.com/photo-1529551739587-e242c564f727?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["2 racks pork ribs", "1 cup BBQ sauce", "1/4 cup honey", "2 tbsp apple cider vinegar", "1 tbsp smoked paprika", "1 tsp garlic powder", "Salt and pepper"],
                    instructions: [
                        "Season ribs with dry rub and refrigerate overnight",
                        "Smoke at 225¬∞F for 4-5 hours until tender",
                        "Mix BBQ sauce, honey and vinegar for glaze",
                        "Brush ribs with glaze every 30 minutes last hour",
                        "Rest 15 minutes before slicing and serving"
                    ],
                    time: "6 hours",
                    difficulty: "Expert",
                    servings: "4",
                    heat: "üî•üî•",
                    category: "BBQ & Grilling",
                    publisher: "Blaze",
                    likes: 89,
                    dislikes: 3,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Italian Passion": [
                {
                    id: "recipe10",
                    name: "Spicy Arrabbiata Pasta",
                    image: "https://images.unsplash.com/photo-1551183053-bf91a1d81141?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["400g spaghetti", "4 cloves garlic", "2 red chilies", "800g canned tomatoes", "1/4 cup olive oil", "Fresh parsley", "Parmesan cheese", "Salt to taste"],
                    instructions: [
                        "Cook spaghetti according to package directions",
                        "Saut√© garlic and chilies in olive oil until fragrant",
                        "Add tomatoes and simmer for 20 minutes until thickened",
                        "Season with salt and crushed red pepper",
                        "Toss cooked pasta with sauce",
                        "Garnish with parsley and Parmesan"
                    ],
                    time: "30 mins",
                    difficulty: "Easy",
                    servings: "4",
                    heat: "üî•üî•",
                    category: "Italian Passion",
                    publisher: "Blaze",
                    likes: 112,
                    dislikes: 2,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Mexican Fiesta": [
                {
                    id: "recipe11",
                    name: "Spicy Chicken Tacos",
                    image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["1lb chicken breast", "8 corn tortillas", "1 onion", "2 tomatoes", "1 avocado", "1 lime", "Cilantro", "Sour cream", "Taco seasoning"],
                    instructions: [
                        "Season chicken with taco seasoning and grill until cooked",
                        "Shred chicken into small pieces",
                        "Warm tortillas on griddle",
                        "Dice vegetables and prepare toppings",
                        "Assemble tacos with chicken and toppings",
                        "Squeeze fresh lime juice before serving"
                    ],
                    time: "25 mins",
                    difficulty: "Easy",
                    servings: "4",
                    heat: "üî•üî•",
                    category: "Mexican Fiesta",
                    publisher: "Blaze",
                    likes: 98,
                    dislikes: 1,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Healthy & Light": [
                {
                    id: "recipe12",
                    name: "Quinoa Salad Bowl",
                    image: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["1 cup quinoa", "2 cups water", "1 cucumber", "1 bell pepper", "1/2 red onion", "1/4 cup olive oil", "1 lemon", "Fresh mint", "Salt and pepper"],
                    instructions: [
                        "Rinse quinoa thoroughly under cold water",
                        "Cook quinoa in water for 15 minutes until fluffy",
                        "Chop vegetables into small dice",
                        "Whisk olive oil, lemon juice, salt and pepper for dressing",
                        "Combine quinoa with vegetables and dressing",
                        "Garnish with fresh mint leaves"
                    ],
                    time: "25 mins",
                    difficulty: "Easy",
                    servings: "4",
                    heat: "None",
                    category: "Healthy & Light",
                    publisher: "Blaze",
                    likes: 76,
                    dislikes: 0,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Comfort Food": [
                {
                    id: "recipe13",
                    name: "Ultimate Grilled Cheese",
                    image: "https://images.unsplash.com/photo-1528735602780-2552fd46c7af?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["8 slices bread", "4 slices cheddar", "4 slices mozzarella", "4 tbsp butter", "2 tbsp mayonnaise", "1 tsp garlic powder"],
                    instructions: [
                        "Spread butter on one side of each bread slice",
                        "Place cheese between bread slices, buttered sides out",
                        "Heat skillet over medium-low heat",
                        "Cook sandwiches 3-4 minutes per side until golden",
                        "Slice diagonally and serve immediately"
                    ],
                    time: "15 mins",
                    difficulty: "Easy",
                    servings: "4",
                    heat: "None",
                    category: "Comfort Food",
                    publisher: "Blaze",
                    likes: 145,
                    dislikes: 2,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Vegan & Vegetarian": [
                {
                    id: "recipe14",
                    name: "Black Bean Burgers",
                    image: "https://images.unsplash.com/photo-1525059696034-4967a8e1d901?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["2 cans black beans", "1 onion", "2 cloves garlic", "1/2 cup breadcrumbs", "2 tbsp flaxseed meal", "1 tsp cumin", "1 tsp paprika", "4 burger buns"],
                    instructions: [
                        "Mash black beans in large bowl",
                        "Saut√© onion and garlic until soft",
                        "Combine all ingredients and form into patties",
                        "Chill patties for 30 minutes",
                        "Grill or pan-fry for 4-5 minutes per side",
                        "Serve on buns with favorite toppings"
                    ],
                    time: "40 mins",
                    difficulty: "Medium",
                    servings: "4",
                    heat: "üî•",
                    category: "Vegan & Vegetarian",
                    publisher: "Blaze",
                    likes: 67,
                    dislikes: 1,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Thanksgiving Specials": [
                {
                    id: "recipe15",
                    name: "Spiced Thanksgiving Turkey",
                    image: "https://images.unsplash.com/photo-1541783245831-57d6fb0926d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["12lb turkey", "1 cup butter softened", "2 onions quartered", "4 celery stalks", "Fresh herbs", "Orange zest", "2 cups chicken broth", "Salt and pepper"],
                    instructions: [
                        "Preheat oven to 325¬∞F and prepare roasting pan",
                        "Season turkey inside and out with herb rub and salt",
                        "Stuff cavity with onions, celery and fresh herbs",
                        "Roast for 3-4 hours until internal temperature reaches 165¬∞F",
                        "Baste every 30 minutes with butter and broth mixture",
                        "Let rest 30 minutes before carving"
                    ],
                    time: "4 hours",
                    difficulty: "Expert",
                    servings: "8",
                    heat: "üî•",
                    category: "Thanksgiving Specials",
                    publisher: "Blaze",
                    likes: 56,
                    dislikes: 2,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Christmas Delights": [
                {
                    id: "recipe16",
                    name: "Christmas Gingerbread Cookies",
                    image: "https://images.unsplash.com/photo-1578985545062-69928b1d9587?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["3 cups flour", "1 cup molasses", "3/4 cup brown sugar", "1 egg", "2 tsp ginger", "1 tsp cinnamon", "1/2 tsp cloves", "Royal icing", "Sprinkles"],
                    instructions: [
                        "Mix dry ingredients in large bowl and set aside",
                        "Cream butter and sugar, then add molasses and egg",
                        "Combine wet and dry ingredients until dough forms",
                        "Chill dough for 2 hours or overnight",
                        "Roll out and cut into festive shapes",
                        "Bake at 350¬∞F for 8-10 minutes until firm",
                        "Decorate with royal icing and sprinkles"
                    ],
                    time: "3 hours",
                    difficulty: "Medium",
                    servings: "24 cookies",
                    heat: "None",
                    category: "Christmas Delights",
                    publisher: "Blaze",
                    likes: 134,
                    dislikes: 1,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Japanese Artistry": [
                {
                    id: "recipe17",
                    name: "Spicy Tuna Roll",
                    image: "https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["2 cups sushi rice", "4 nori sheets", "8oz fresh tuna", "2 tbsp mayonnaise", "1 tsp sriracha", "1 cucumber", "1 avocado", "Soy sauce", "Wasabi"],
                    instructions: [
                        "Prepare sushi rice according to package directions",
                        "Mix tuna with mayonnaise and sriracha",
                        "Place nori on bamboo mat, spread rice evenly",
                        "Add fillings in center line",
                        "Roll tightly using bamboo mat",
                        "Slice into 8 pieces and serve with soy sauce"
                    ],
                    time: "45 mins",
                    difficulty: "Expert",
                    servings: "4",
                    heat: "üî•",
                    category: "Japanese Artistry",
                    publisher: "Blaze",
                    likes: 89,
                    dislikes: 3,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Thai Temptations": [
                {
                    id: "recipe18",
                    name: "Spicy Thai Curry",
                    image: "https://images.unsplash.com/photo-1455619452474-d2be8b1e70cd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["1 can coconut milk", "2 tbsp red curry paste", "1lb chicken breast", "2 bell peppers", "1 onion", "Thai basil", "Fish sauce", "1 lime", "Jasmine rice"],
                    instructions: [
                        "Saut√© curry paste in oil until fragrant",
                        "Add coconut milk and bring to simmer",
                        "Add chicken and cook for 10 minutes",
                        "Add vegetables and cook until tender",
                        "Season with fish sauce and lime juice",
                        "Garnish with basil and serve with rice"
                    ],
                    time: "35 mins",
                    difficulty: "Medium",
                    servings: "4",
                    heat: "üî•üî•üî•",
                    category: "Thai Temptations",
                    publisher: "Blaze",
                    likes: 103,
                    dislikes: 2,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "Chinese Delights": [
                {
                    id: "recipe19",
                    name: "Kung Pao Chicken",
                    image: "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["1lb chicken breast", "1/2 cup peanuts", "4 dried chilies", "2 cloves garlic", "1 inch ginger", "2 tbsp soy sauce", "1 tbsp rice vinegar", "1 tsp sugar", "Green onions"],
                    instructions: [
                        "Dice chicken into bite-sized pieces",
                        "Stir-fry chicken in hot oil until cooked",
                        "Add chilies, garlic and ginger, stir-fry briefly",
                        "Add sauce ingredients and bring to boil",
                        "Add peanuts and toss to coat",
                        "Garnish with green onions and serve"
                    ],
                    time: "25 mins",
                    difficulty: "Medium",
                    servings: "4",
                    heat: "üî•üî•üî•",
                    category: "Chinese Delights",
                    publisher: "Blaze",
                    likes: 121,
                    dislikes: 3,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ],
            "French Cuisine": [
                {
                    id: "recipe20",
                    name: "Coq au Vin",
                    image: "https://images.unsplash.com/photo-1600891964092-4316c288032e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",
                    ingredients: ["1 whole chicken", "4oz bacon", "1 onion", "2 carrots", "8oz mushrooms", "2 cups red wine", "2 cups chicken broth", "Fresh thyme", "Butter"],
                    instructions: [
                        "Brown chicken pieces in Dutch oven",
                        "Saut√© bacon until crisp, then vegetables",
                        "Return chicken to pot, add wine and broth",
                        "Simmer covered for 1 hour until chicken is tender",
                        "Remove chicken, reduce sauce until thickened",
                        "Serve with crusty bread"
                    ],
                    time: "1.5 hours",
                    difficulty: "Hard",
                    servings: "6",
                    heat: "üî•",
                    category: "French Cuisine",
                    publisher: "Blaze",
                    likes: 78,
                    dislikes: 2,
                    userReactions: {},
                    comments: [],
                    favorites: []
                }
            ]
        };

        // User state
        let currentUser = null;
        let isLoggedIn = false;
        let currentRecipe = null;
        let userFavorites = [];
        let selectedCategory = "";
        let userReactions = {}; // Store user reactions globally

        // Categories
        const categories = [
            "American Classics", "Indian Spices", "Japanese Artistry", 
            "Italian Passion", "Mexican Fiesta", "Chinese Delights", 
            "Thai Temptations", "French Cuisine", "Mediterranean Magic",
            "BBQ & Grilling", "Comfort Food", "Healthy & Light",
            "Desserts & Sweets", "Vegan & Vegetarian", "Breakfast & Brunch",
            "Thanksgiving Specials", "Christmas Delights", "Halloween Treats",
            "Drinks & Beverages", "Soups"
        ];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Show loading screen for 3 seconds
            setTimeout(() => {
                document.getElementById('loading-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loading-screen').style.display = 'none';
                }, 500);
            }, 3000);
            
            populateAddRecipeCategories();
            displayRecipes('all');
            
            // Add event listeners
            document.getElementById('add-recipe-btn').addEventListener('click', handleAddRecipeClick);
            document.getElementById('login-btn').addEventListener('click', openAuthModal);
            document.getElementById('signup-btn').addEventListener('click', openAuthModal);
            
            // Check if user is logged in
            checkLoginStatus();
            
            // Load user reactions
            loadUserReactions();
        });

        // Toggle password visibility
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const toggle = input.parentNode.querySelector('.password-toggle');
            
            if (input.type === 'password') {
                input.type = 'text';
                toggle.textContent = 'üôà';
            } else {
                input.type = 'password';
                toggle.textContent = 'üëÅÔ∏è';
            }
        }

        // Check login status
        function checkLoginStatus() {
            const savedUser = localStorage.getItem('blazeKitchenUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                isLoggedIn = true;
                updateUserInterface();
                
                // Load user favorites
                const savedFavorites = localStorage.getItem(`blazeKitchenFavorites_${currentUser.username}`);
                if (savedFavorites) {
                    userFavorites = JSON.parse(savedFavorites);
                }
                
                // Load user profile data
                const savedProfile = localStorage.getItem(`blazeKitchenProfile_${currentUser.username}`);
                if (savedProfile) {
                    const profile = JSON.parse(savedProfile);
                    document.getElementById('profile-avatar').textContent = profile.avatar || 'U';
                    document.getElementById('profile-username').value = profile.username || currentUser.username;
                    document.getElementById('profile-email').value = profile.email || currentUser.email;
                    document.getElementById('profile-bio').value = profile.bio || '';
                    document.getElementById('profile-cuisine').value = profile.cuisine || '';
                }
            }
        }

        // Load user reactions
        function loadUserReactions() {
            const savedUser = localStorage.getItem('blazeKitchenUser');
            if (savedUser) {
                const user = JSON.parse(savedUser);
                const savedReactions = localStorage.getItem(`blazeKitchenReactions_${user.username}`);
                if (savedReactions) {
                    userReactions = JSON.parse(savedReactions);
                }
            }
        }

        // Save user reactions
        function saveUserReactions() {
            if (currentUser) {
                localStorage.setItem(`blazeKitchenReactions_${currentUser.username}`, JSON.stringify(userReactions));
            }
        }

        // Update UI based on login status
        function updateUserInterface() {
            const authButtons = document.getElementById('auth-buttons');
            const userInfo = document.getElementById('user-info');
            const userName = document.getElementById('user-name');
            
            if (isLoggedIn) {
                authButtons.style.display = 'none';
                userInfo.style.display = 'block';
                userName.textContent = currentUser.username;
            } else {
                authButtons.style.display = 'flex';
                userInfo.style.display = 'none';
            }
        }

        // Show section
        function showSection(section) {
            // Update active nav button
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // Clear search info
            document.getElementById('search-info').textContent = '';
            
            // Show search section if search is clicked
            if (section === 'search') {
                document.getElementById('search-section').style.display = 'block';
                document.getElementById('search-input').focus();
            } else {
                document.getElementById('search-section').style.display = 'none';
            }
            
            displayRecipes(section);
        }

        // Populate add recipe categories
        function populateAddRecipeCategories() {
            const categoryGrid = document.getElementById('category-grid');
            categoryGrid.innerHTML = '';
            
            categories.forEach(category => {
                const option = document.createElement('div');
                option.className = 'category-option';
                option.textContent = category;
                option.onclick = () => selectCategory(option, category);
                categoryGrid.appendChild(option);
            });
        }

        // Select category in add recipe
        function selectCategory(element, category) {
            // Deselect all categories
            document.querySelectorAll('.category-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Select clicked category
            element.classList.add('selected');
            selectedCategory = category;
        }

        // Display recipes
        function displayRecipes(filter = 'all', searchTerm = '') {
            const recipeGrid = document.getElementById('recipe-grid');
            recipeGrid.innerHTML = '';
           
            let allRecipes = [];
           
            // Collect all recipes
            for (const category in recipes) {
                recipes[category].forEach(recipe => {
                    recipe.category = category;
                    allRecipes.push(recipe);
                });
            }
           
            // Apply filters
            let filteredRecipes = allRecipes;
           
            if (filter === 'favorites') {
                filteredRecipes = allRecipes.filter(recipe => 
                    userFavorites.includes(recipe.id)
                );
            } else if (filter !== 'all') {
                filteredRecipes = allRecipes.filter(recipe => recipe.category === filter);
            }
           
            // Apply search filter
            if (searchTerm) {
                filteredRecipes = searchRecipesNatural(searchTerm, allRecipes);
            }
           
            // Display recipes
            if (filteredRecipes.length === 0) {
                recipeGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #ccc;">No recipes found. Try a different search or add your own recipe!</div>';
                return;
            }
           
            filteredRecipes.forEach(recipe => {
                const isFavorited = userFavorites.includes(recipe.id);
                const userReaction = userReactions[recipe.id] || null;
                const card = document.createElement('div');
                card.className = 'recipe-card';
                
                card.innerHTML = `
                    <div class="recipe-image" style="background-image: url('${recipe.image}');">
                        <div class="recipe-publisher">
                            <div class="publisher-avatar">${recipe.publisher.charAt(0)}</div>
                            <span>${recipe.publisher}</span>
                        </div>
                    </div>
                    <div class="recipe-content">
                        <div class="recipe-header">
                            <h3 class="recipe-title">${recipe.name}</h3>
                            <div class="recipe-heat">${recipe.heat}</div>
                        </div>
                        <div class="recipe-meta">
                            <span>‚è±Ô∏è ${recipe.time}</span>
                            <span>‚ö° ${recipe.difficulty}</span>
                            <span>üçΩÔ∏è ${recipe.servings}</span>
                        </div>
                        <p class="recipe-description">A ${recipe.category.toLowerCase()} masterpiece that will ignite your taste buds with flavor and passion.</p>
                        <div class="recipe-actions">
                            <button class="action-btn ${userReaction === 'like' ? 'active' : ''}" onclick="handleLikeCard('${recipe.id}')">üëç ${recipe.likes}</button>
                            <button class="action-btn ${userReaction === 'dislike' ? 'active' : ''}" onclick="handleDislikeCard('${recipe.id}')">üëé ${recipe.dislikes}</button>
                            <button class="action-btn" onclick="openRecipe('${recipe.id}')">üí¨ ${recipe.comments.length}</button>
                            <button class="action-btn ${isFavorited ? 'active' : ''}" onclick="toggleFavoriteCard('${recipe.id}')">‚≠ê ${isFavorited ? 'Favorited' : 'Favorite'}</button>
                        </div>
                        <button class="view-recipe-btn" onclick="openRecipe('${recipe.id}')">View Recipe</button>
                    </div>
                `;
                recipeGrid.appendChild(card);
            });
        }

        // Natural language search
        function searchRecipesNatural(searchTerm, allRecipes) {
            const searchLower = searchTerm.toLowerCase();
            const searchWords = searchLower.split(' ');
            
            // Common food-related keywords mapping
            const keywordMapping = {
                'burger': ['burger', 'beef', 'bun', 'cheeseburger'],
                'pizza': ['pizza', 'cheese', 'tomato', 'pepperoni'],
                'pasta': ['pasta', 'spaghetti', 'noodles', 'macaroni'],
                'chicken': ['chicken', 'poultry', 'wing', 'breast'],
                'beef': ['beef', 'steak', 'burger', 'meat'],
                'vegetarian': ['vegetarian', 'vegan', 'plant', 'vegetable'],
                'spicy': ['spicy', 'hot', 'chili', 'pepper', 'fiery'],
                'sweet': ['sweet', 'dessert', 'cake', 'cookie', 'chocolate'],
                'breakfast': ['breakfast', 'pancake', 'egg', 'morning'],
                'healthy': ['healthy', 'light', 'salad', 'quinoa', 'vegetable'],
                'quick': ['quick', 'fast', 'easy', 'simple', 'minutes'],
                'italian': ['italian', 'pasta', 'pizza', 'risotto'],
                'mexican': ['mexican', 'taco', 'burrito', 'salsa'],
                'indian': ['indian', 'curry', 'masala', 'naan'],
                'chinese': ['chinese', 'stir', 'fry', 'noodle', 'rice'],
                'japanese': ['japanese', 'sushi', 'ramen', 'tempura'],
                'thai': ['thai', 'curry', 'pad', 'thai'],
                'french': ['french', 'baguette', 'croissant', 'wine'],
                'drink': ['drink', 'beverage', 'juice', 'smoothie', 'shake'],
                'soup': ['soup', 'broth', 'stew', 'chowder']
            };
            
            // Check for recipe not found keywords
            const notFoundKeywords = ['not', 'found', 'doesn\'t exist', "don't have", 'cannot find', 'no recipe'];
            if (notFoundKeywords.some(keyword => searchLower.includes(keyword))) {
                return [];
            }
            
            return allRecipes.filter(recipe => {
                // Basic search in name, ingredients, and category
                if (recipe.name.toLowerCase().includes(searchLower) ||
                    recipe.category.toLowerCase().includes(searchLower) ||
                    recipe.ingredients.some(ing => ing.toLowerCase().includes(searchLower))) {
                    return true;
                }
                
                // Check for keyword matches
                for (const [keyword, relatedWords] of Object.entries(keywordMapping)) {
                    if (searchWords.some(word => relatedWords.includes(word))) {
                        if (recipe.name.toLowerCase().includes(keyword) ||
                            recipe.category.toLowerCase().includes(keyword) ||
                            recipe.ingredients.some(ing => ing.toLowerCase().includes(keyword))) {
                            return true;
                        }
                    }
                }
                
                // Check for heat level
                if (searchLower.includes('mild') && recipe.heat === 'üî•') return true;
                if (searchLower.includes('medium') && recipe.heat === 'üî•üî•') return true;
                if (searchLower.includes('hot') && recipe.heat === 'üî•üî•üî•') return true;
                if (searchLower.includes('spicy') && recipe.heat.includes('üî•')) return true;
                
                // Check for difficulty
                if (searchLower.includes('easy') && recipe.difficulty === 'Easy') return true;
                if (searchLower.includes('medium') && recipe.difficulty === 'Medium') return true;
                if (searchLower.includes('hard') && recipe.difficulty === 'Hard') return true;
                if (searchLower.includes('expert') && recipe.difficulty === 'Expert') return true;
                
                return false;
            });
        }

        // Handle search keyup
        function handleSearchKeyup(event) {
            if (event.key === 'Enter') {
                searchRecipes();
            }
        }

        // Search recipes
        function searchRecipes() {
            const searchInput = document.getElementById('search-input');
            const searchTerm = searchInput.value.trim();
            const searchInfo = document.getElementById('search-info');
            
            if (searchTerm === '') {
                searchInfo.textContent = '';
                displayRecipes('all');
                return;
            }
            
            let allRecipes = [];
            for (const category in recipes) {
                recipes[category].forEach(recipe => {
                    recipe.category = category;
                    allRecipes.push(recipe);
                });
            }
            
            const filteredRecipes = searchRecipesNatural(searchTerm, allRecipes);
            
            if (filteredRecipes.length === 0) {
                searchInfo.textContent = `Recipe not found for "${searchTerm}". Try searching for: burger, pizza, pasta, chicken, or dessert.`;
                searchInfo.className = 'search-info error';
            } else {
                searchInfo.textContent = `Found ${filteredRecipes.length} recipe(s) for "${searchTerm}"`;
                searchInfo.className = 'search-info';
            }
            
            displayRecipes('all', searchTerm);
        }

        // Open recipe modal
        function openRecipe(recipeId) {
            // Find recipe
            let recipe = null;
            for (const category in recipes) {
                const found = recipes[category].find(r => r.id === recipeId);
                if (found) {
                    recipe = found;
                    break;
                }
            }
            
            if (!recipe) return;
            
            currentRecipe = recipe;
            
            // Update modal content
            document.getElementById('modal-title').textContent = recipe.name;
            document.getElementById('modal-heat').textContent = recipe.heat;
            document.getElementById('modal-time').textContent = recipe.time;
            document.getElementById('modal-difficulty').textContent = recipe.difficulty;
            document.getElementById('modal-servings').textContent = recipe.servings;
            document.getElementById('like-count').textContent = recipe.likes;
            document.getElementById('dislike-count').textContent = recipe.dislikes;
            document.getElementById('comment-count').textContent = recipe.comments.length;
            
            // Update favorite button
            const isFavorited = userFavorites.includes(recipe.id);
            document.getElementById('favorite-text').textContent = isFavorited ? 'Remove from Favorites' : 'Add to Favorites';
            document.getElementById('favorite-btn').className = isFavorited ? 'action-btn active' : 'action-btn';
            
            // Update like/dislike buttons based on user reaction
            const userReaction = userReactions[recipe.id] || null;
            document.getElementById('like-btn').className = userReaction === 'like' ? 'action-btn active' : 'action-btn';
            document.getElementById('dislike-btn').className = userReaction === 'dislike' ? 'action-btn active' : 'action-btn';
            
            // Populate ingredients
            const ingredientsList = document.getElementById('modal-ingredients');
            ingredientsList.innerHTML = '';
            recipe.ingredients.forEach(ingredient => {
                const li = document.createElement('li');
                li.textContent = ingredient;
                ingredientsList.appendChild(li);
            });
            
            // Populate instructions
            const instructionsList = document.getElementById('modal-instructions');
            instructionsList.innerHTML = '';
            recipe.instructions.forEach(instruction => {
                const li = document.createElement('li');
                li.textContent = instruction;
                instructionsList.appendChild(li);
            });
            
            // Populate comments
            const commentsList = document.getElementById('comments-list');
            commentsList.innerHTML = '';
            recipe.comments.forEach(comment => {
                const li = document.createElement('li');
                li.className = 'comment-item';
                li.innerHTML = `
                    <div class="comment-header">
                        <div class="comment-avatar">${comment.author.charAt(0)}</div>
                        <div>
                            <div class="comment-author">${comment.author}</div>
                            <div class="comment-date">${comment.date}</div>
                        </div>
                    </div>
                    <div class="comment-text">${comment.text}</div>
                `;
                commentsList.appendChild(li);
            });
            
            // Show modal
            document.getElementById('recipe-modal').style.display = 'block';
        }

        // Close modal
        function closeModal() {
            document.getElementById('recipe-modal').style.display = 'none';
        }

        // Handle like (YouTube style - one like or dislike per user)
        function handleLike() {
            if (!currentRecipe || !isLoggedIn) {
                showNotification('Please login to like recipes');
                return;
            }
            
            const currentReaction = userReactions[currentRecipe.id];
            
            if (currentReaction === 'like') {
                // User is removing their like
                currentRecipe.likes--;
                delete userReactions[currentRecipe.id];
                document.getElementById('like-btn').classList.remove('active');
                document.getElementById('like-count').textContent = currentRecipe.likes;
            } else {
                // User is adding a like
                if (currentReaction === 'dislike') {
                    // Remove previous dislike
                    currentRecipe.dislikes--;
                    document.getElementById('dislike-btn').classList.remove('active');
                    document.getElementById('dislike-count').textContent = currentRecipe.dislikes;
                }
                
                currentRecipe.likes++;
                userReactions[currentRecipe.id] = 'like';
                document.getElementById('like-btn').classList.add('active');
                document.getElementById('dislike-btn').classList.remove('active');
                document.getElementById('like-count').textContent = currentRecipe.likes;
            }
            
            saveRecipes();
            saveUserReactions();
            showNotification(currentReaction === 'like' ? 'Like removed' : 'Recipe liked!');
        }

        // Handle dislike (YouTube style - one like or dislike per user)
        function handleDislike() {
            if (!currentRecipe || !isLoggedIn) {
                showNotification('Please login to dislike recipes');
                return;
            }
            
            const currentReaction = userReactions[currentRecipe.id];
            
            if (currentReaction === 'dislike') {
                // User is removing their dislike
                currentRecipe.dislikes--;
                delete userReactions[currentRecipe.id];
                document.getElementById('dislike-btn').classList.remove('active');
                document.getElementById('dislike-count').textContent = currentRecipe.dislikes;
            } else {
                // User is adding a dislike
                if (currentReaction === 'like') {
                    // Remove previous like
                    currentRecipe.likes--;
                    document.getElementById('like-btn').classList.remove('active');
                    document.getElementById('like-count').textContent = currentRecipe.likes;
                }
                
                currentRecipe.dislikes++;
                userReactions[currentRecipe.id] = 'dislike';
                document.getElementById('dislike-btn').classList.add('active');
                document.getElementById('like-btn').classList.remove('active');
                document.getElementById('dislike-count').textContent = currentRecipe.dislikes;
            }
            
            saveRecipes();
            saveUserReactions();
            showNotification(currentReaction === 'dislike' ? 'Dislike removed' : 'Recipe disliked');
        }

        // Handle like from card
        function handleLikeCard(recipeId) {
            event.stopPropagation();
            
            if (!isLoggedIn) {
                showNotification('Please login to like recipes');
                return;
            }
            
            let recipe = null;
            for (const category in recipes) {
                const found = recipes[category].find(r => r.id === recipeId);
                if (found) {
                    recipe = found;
                    break;
                }
            }
            
            if (!recipe) return;
            
            const currentReaction = userReactions[recipeId];
            
            if (currentReaction === 'like') {
                // Remove like
                recipe.likes--;
                delete userReactions[recipeId];
                showNotification('Like removed');
            } else {
                // Add like
                if (currentReaction === 'dislike') {
                    // Remove previous dislike
                    recipe.dislikes--;
                }
                
                recipe.likes++;
                userReactions[recipeId] = 'like';
                showNotification('Recipe liked!');
            }
            
            saveRecipes();
            saveUserReactions();
            displayRecipes('all');
        }

        // Handle dislike from card
        function handleDislikeCard(recipeId) {
            event.stopPropagation();
            
            if (!isLoggedIn) {
                showNotification('Please login to dislike recipes');
                return;
            }
            
            let recipe = null;
            for (const category in recipes) {
                const found = recipes[category].find(r => r.id === recipeId);
                if (found) {
                    recipe = found;
                    break;
                }
            }
            
            if (!recipe) return;
            
            const currentReaction = userReactions[recipeId];
            
            if (currentReaction === 'dislike') {
                // Remove dislike
                recipe.dislikes--;
                delete userReactions[recipeId];
                showNotification('Dislike removed');
            } else {
                // Add dislike
                if (currentReaction === 'like') {
                    // Remove previous like
                    recipe.likes--;
                }
                
                recipe.dislikes++;
                userReactions[recipeId] = 'dislike';
                showNotification('Recipe disliked');
            }
            
            saveRecipes();
            saveUserReactions();
            displayRecipes('all');
        }

        // Toggle favorite
        function toggleFavorite() {
            if (!currentRecipe || !isLoggedIn) {
                showNotification('Please login to add favorites');
                return;
            }
            
            const index = userFavorites.indexOf(currentRecipe.id);
            if (index === -1) {
                userFavorites.push(currentRecipe.id);
                document.getElementById('favorite-text').textContent = 'Remove from Favorites';
                document.getElementById('favorite-btn').className = 'action-btn active';
                showNotification('Added to favorites!');
            } else {
                userFavorites.splice(index, 1);
                document.getElementById('favorite-text').textContent = 'Add to Favorites';
                document.getElementById('favorite-btn').className = 'action-btn';
                showNotification('Removed from favorites');
            }
            
            // Save favorites to localStorage
            if (currentUser) {
                localStorage.setItem(`blazeKitchenFavorites_${currentUser.username}`, JSON.stringify(userFavorites));
            }
        }

        // Toggle favorite from card
        function toggleFavoriteCard(recipeId) {
            event.stopPropagation();
            
            if (!isLoggedIn) {
                showNotification('Please login to add favorites');
                openAuthModal();
                return;
            }
            
            const index = userFavorites.indexOf(recipeId);
            if (index === -1) {
                userFavorites.push(recipeId);
                showNotification('Added to favorites!');
            } else {
                userFavorites.splice(index, 1);
                showNotification('Removed from favorites');
            }
            
            // Save favorites to localStorage
            if (currentUser) {
                localStorage.setItem(`blazeKitchenFavorites_${currentUser.username}`, JSON.stringify(userFavorites));
            }
            
            displayRecipes('all');
        }

        // Toggle comments
        function toggleComments() {
            const commentsSection = document.getElementById('comments-section');
            if (commentsSection.style.display === 'none') {
                commentsSection.style.display = 'block';
            } else {
                commentsSection.style.display = 'none';
            }
        }

        // Add comment
        function addComment() {
            if (!currentRecipe) return;
            
            const commentInput = document.getElementById('comment-input');
            const commentText = commentInput.value.trim();
            
            if (commentText === '') {
                showNotification('Please enter a comment');
                return;
            }
            
            if (!isLoggedIn) {
                showNotification('Please login to comment');
                openAuthModal();
                return;
            }
            
            const newComment = {
                author: currentUser.username,
                date: new Date().toLocaleDateString() + ' ' + new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                text: commentText
            };
            
            currentRecipe.comments.push(newComment);
            document.getElementById('comment-count').textContent = currentRecipe.comments.length;
            
            // Add to comments list
            const commentsList = document.getElementById('comments-list');
            const li = document.createElement('li');
            li.className = 'comment-item';
            li.innerHTML = `
                <div class="comment-header">
                    <div class="comment-avatar">${newComment.author.charAt(0)}</div>
                    <div>
                        <div class="comment-author">${newComment.author}</div>
                        <div class="comment-date">${newComment.date}</div>
                    </div>
                </div>
                <div class="comment-text">${newComment.text}</div>
            `;
            commentsList.appendChild(li);
            
            // Clear input
            commentInput.value = '';
            
            // Save recipes
            saveRecipes();
            showNotification('Comment added!');
        }

        // Show favorites
        function showFavorites() {
            if (!isLoggedIn) {
                showNotification('Please login to view favorites');
                openAuthModal();
                return;
            }
            
            // Update nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            displayRecipes('favorites');
        }

        // Show random recipe
        function showRandomRecipe() {
            let allRecipes = [];
            for (const category in recipes) {
                allRecipes = allRecipes.concat(recipes[category]);
            }
            
            if (allRecipes.length === 0) return;
            
            const randomIndex = Math.floor(Math.random() * allRecipes.length);
            openRecipe(allRecipes[randomIndex].id);
        }

        // Handle add recipe click
        function handleAddRecipeClick() {
            if (!isLoggedIn) {
                showNotification('Please login to add a recipe');
                openAuthModal();
                return;
            }
            
            // Reset form
            document.getElementById('recipe-name-input').value = '';
            document.querySelectorAll('.category-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            selectedCategory = '';
            document.getElementById('ingredients-container').innerHTML = `
                <div class="ingredient-item">
                    <input type="text" placeholder="Enter ingredient" class="ingredient-input">
                    <button class="remove-ingredient" onclick="removeIngredient(this)">√ó</button>
                </div>
            `;
            document.getElementById('instructions-input').value = '';
            document.getElementById('cooking-time-input').value = '';
            document.getElementById('difficulty-input').value = 'Medium';
            document.getElementById('servings-input').value = '';
            document.getElementById('heat-input').value = 'None';
            document.getElementById('image-preview').style.display = 'none';
            document.getElementById('image-preview').src = '';
            
            // Show first step
            document.querySelectorAll('.add-recipe-step').forEach(step => {
                step.classList.remove('active');
            });
            document.getElementById('step1').classList.add('active');
            
            // Show modal
            document.getElementById('add-recipe-modal').style.display = 'block';
        }

        // Next step in add recipe
        function nextStep(stepNumber) {
            // Validate current step
            if (stepNumber === 2) {
                const recipeName = document.getElementById('recipe-name-input').value.trim();
                if (recipeName === '') {
                    showNotification('Please enter a recipe name');
                    return;
                }
            } else if (stepNumber === 3) {
                if (selectedCategory === '') {
                    showNotification('Please select a category');
                    return;
                }
            } else if (stepNumber === 4) {
                const ingredients = Array.from(document.querySelectorAll('.ingredient-input'))
                    .map(input => input.value.trim())
                    .filter(val => val !== '');
                if (ingredients.length === 0) {
                    showNotification('Please add at least one ingredient');
                    return;
                }
            }
            
            // Hide all steps
            document.querySelectorAll('.add-recipe-step').forEach(step => {
                step.classList.remove('active');
            });
            
            // Show target step
            document.getElementById(`step${stepNumber}`).classList.add('active');
        }

        // Previous step in add recipe
        function prevStep(stepNumber) {
            // Hide all steps
            document.querySelectorAll('.add-recipe-step').forEach(step => {
                step.classList.remove('active');
            });
            
            // Show target step
            document.getElementById(`step${stepNumber}`).classList.add('active');
        }

        // Add ingredient field
        function addIngredient() {
            const container = document.getElementById('ingredients-container');
            const div = document.createElement('div');
            div.className = 'ingredient-item';
            div.innerHTML = `
                <input type="text" placeholder="Enter ingredient" class="ingredient-input">
                <button class="remove-ingredient" onclick="removeIngredient(this)">√ó</button>
            `;
            container.appendChild(div);
        }

        // Remove ingredient field
        function removeIngredient(button) {
            const container = document.getElementById('ingredients-container');
            if (container.children.length > 1) {
                button.parentElement.remove();
            }
        }

        // Process instructions
        function processInstructions() {
            const instructionsInput = document.getElementById('instructions-input').value;
            const instructions = instructionsInput.split('\n').filter(line => line.trim() !== '');
            
            if (instructions.length === 0) {
                showNotification('Please add at least one instruction');
                return;
            }
            
            // Display instructions for review
            const reviewContainer = document.getElementById('instructions-review');
            reviewContainer.innerHTML = '<h3>Instructions Preview:</h3>';
            
            instructions.forEach((instruction, index) => {
                const div = document.createElement('div');
                div.className = 'instruction-box';
                div.innerHTML = `<strong>Step ${index + 1}:</strong> ${instruction}`;
                reviewContainer.appendChild(div);
            });
            
            // Go to next step
            nextStep(5);
        }

        // Preview image
        function previewImage(event) {
            const input = event.target;
            const preview = document.getElementById('image-preview');
            
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        // Publish recipe - FIXED
        function publishRecipe() {
            // Get all values
            const recipeName = document.getElementById('recipe-name-input').value.trim();
            const ingredients = Array.from(document.querySelectorAll('.ingredient-input'))
                .map(input => input.value.trim())
                .filter(val => val !== '');
            const instructions = document.getElementById('instructions-input').value
                .split('\n')
                .filter(line => line.trim() !== '');
            const cookingTime = document.getElementById('cooking-time-input').value.trim();
            const difficulty = document.getElementById('difficulty-input').value;
            const servings = document.getElementById('servings-input').value.trim();
            const heat = document.getElementById('heat-input').value;
            
            // Validation
            if (recipeName === '') {
                showNotification('Please enter a recipe name');
                return;
            }
            if (selectedCategory === '') {
                showNotification('Please select a category');
                return;
            }
            if (ingredients.length === 0) {
                showNotification('Please add at least one ingredient');
                return;
            }
            if (instructions.length === 0) {
                showNotification('Please add at least one instruction');
                return;
            }
            if (cookingTime === '') {
                showNotification('Please enter cooking time');
                return;
            }
            if (servings === '') {
                showNotification('Please enter servings');
                return;
            }
            
            // Get image (use default if none uploaded)
            let recipeImage = "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80"; // Default food image
            
            const imagePreview = document.getElementById('image-preview');
            if (imagePreview.src && imagePreview.style.display !== 'none') {
                recipeImage = imagePreview.src; // Use uploaded image
            }
            
            // Create new recipe
            const newRecipe = {
                id: 'recipe' + Date.now(),
                name: recipeName,
                image: recipeImage,
                ingredients: ingredients,
                instructions: instructions,
                time: cookingTime,
                difficulty: difficulty,
                servings: servings,
                heat: heat,
                category: selectedCategory,
                publisher: currentUser.username,
                likes: 0,
                dislikes: 0,
                userReactions: {},
                comments: [],
                favorites: []
            };
            
            // Add to recipes
            if (!recipes[selectedCategory]) {
                recipes[selectedCategory] = [];
            }
            recipes[selectedCategory].push(newRecipe);
            
            // Save recipes
            saveRecipes();
            
            // Close modal
            closeAddRecipeModal();
            
            // Show notification
            showNotification('Recipe published successfully!');
            
            // Refresh display
            displayRecipes('all');
        }

        // Close add recipe modal
        function closeAddRecipeModal() {
            document.getElementById('add-recipe-modal').style.display = 'none';
        }

        // Open auth modal
        function openAuthModal() {
            document.getElementById('auth-modal').style.display = 'block';
            showAuthForm('login');
        }

        // Close auth modal
        function closeAuthModal() {
            document.getElementById('auth-modal').style.display = 'none';
        }

        // Show auth form
        function showAuthForm(formType) {
            // Update tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.auth-form').forEach(form => {
                form.classList.remove('active');
            });
            
            // Show selected form
            if (formType === 'login') {
                document.querySelector('.auth-tab:nth-child(1)').classList.add('active');
                document.getElementById('login-form').classList.add('active');
            } else {
                document.querySelector('.auth-tab:nth-child(2)').classList.add('active');
                document.getElementById('signup-form').classList.add('active');
            }
        }

        // Login
        function login() {
            const username = document.getElementById('login-username').value.trim();
            const password = document.getElementById('login-password').value;
            
            if (username === '' || password === '') {
                showNotification('Please fill in all fields');
                return;
            }
            
            // For demo purposes, accept any login
            currentUser = {
                username: username,
                email: username.includes('@') ? username : username + '@example.com'
            };
            
            isLoggedIn = true;
            
            // Save to localStorage
            localStorage.setItem('blazeKitchenUser', JSON.stringify(currentUser));
            
            // Update UI
            updateUserInterface();
            
            // Close modal
            closeAuthModal();
            
            // Show welcome notification
            showNotification(`Welcome back, ${username}!`);
            
            // Load user favorites
            const savedFavorites = localStorage.getItem(`blazeKitchenFavorites_${currentUser.username}`);
            if (savedFavorites) {
                userFavorites = JSON.parse(savedFavorites);
            }
            
            // Load user reactions
            loadUserReactions();
            
            // Load user profile if exists
            const savedProfile = localStorage.getItem(`blazeKitchenProfile_${currentUser.username}`);
            if (savedProfile) {
                const profile = JSON.parse(savedProfile);
                document.getElementById('profile-avatar').textContent = profile.avatar || 'U';
                document.getElementById('profile-username').value = profile.username || currentUser.username;
                document.getElementById('profile-email').value = profile.email || currentUser.email;
                document.getElementById('profile-bio').value = profile.bio || '';
                document.getElementById('profile-cuisine').value = profile.cuisine || '';
            }
        }

        // Signup (without confirm password)
        function signup() {
            const username = document.getElementById('signup-username').value.trim();
            const email = document.getElementById('signup-email').value.trim();
            const password = document.getElementById('signup-password').value;
            
            if (username === '' || email === '' || password === '') {
                showNotification('Please fill in all fields');
                return;
            }
            
            if (password.length < 6) {
                showNotification('Password must be at least 6 characters');
                return;
            }
            
            // For demo purposes, accept any signup
            currentUser = {
                username: username,
                email: email
            };
            
            isLoggedIn = true;
            
            // Save to localStorage
            localStorage.setItem('blazeKitchenUser', JSON.stringify(currentUser));
            
            // Update UI
            updateUserInterface();
            
            // Close modal
            closeAuthModal();
            
            // Show welcome notification
            showNotification(`Welcome to Blaze Kitchen, ${username}!`);
            
            // Clear favorites for new user
            userFavorites = [];
            userReactions = {};
        }

        // Open profile modal
        function openProfileModal() {
            if (!isLoggedIn) return;
            
            // Load profile data
            const savedProfile = localStorage.getItem(`blazeKitchenProfile_${currentUser.username}`);
            if (savedProfile) {
                const profile = JSON.parse(savedProfile);
                document.getElementById('profile-avatar').textContent = profile.avatar || currentUser.username.charAt(0);
                document.getElementById('profile-username').value = profile.username || currentUser.username;
                document.getElementById('profile-email').value = profile.email || currentUser.email;
                document.getElementById('profile-bio').value = profile.bio || '';
                document.getElementById('profile-cuisine').value = profile.cuisine || '';
            } else {
                document.getElementById('profile-avatar').textContent = currentUser.username.charAt(0);
                document.getElementById('profile-username').value = currentUser.username;
                document.getElementById('profile-email').value = currentUser.email;
                document.getElementById('profile-bio').value = '';
                document.getElementById('profile-cuisine').value = '';
            }
            
            document.getElementById('profile-modal').style.display = 'block';
        }

        // Close profile modal
        function closeProfileModal() {
            document.getElementById('profile-modal').style.display = 'none';
        }

        // Change avatar
        function changeAvatar() {
            const avatars = ['üë®‚Äçüç≥', 'üë©‚Äçüç≥', 'üî•', 'üç≥', 'ü•ò', 'üçî', 'üçï', 'üåÆ'];
            const currentAvatar = document.getElementById('profile-avatar').textContent;
            const currentIndex = avatars.indexOf(currentAvatar);
            const nextIndex = (currentIndex + 1) % avatars.length;
            document.getElementById('profile-avatar').textContent = avatars[nextIndex];
        }

        // Save profile
        function saveProfile() {
            if (!isLoggedIn) return;
            
            const profile = {
                avatar: document.getElementById('profile-avatar').textContent,
                username: document.getElementById('profile-username').value.trim(),
                email: document.getElementById('profile-email').value.trim(),
                bio: document.getElementById('profile-bio').value.trim(),
                cuisine: document.getElementById('profile-cuisine').value
            };
            
            // Update current user
            currentUser.username = profile.username;
            currentUser.email = profile.email;
            
            // Save to localStorage
            localStorage.setItem('blazeKitchenUser', JSON.stringify(currentUser));
            localStorage.setItem(`blazeKitchenProfile_${currentUser.username}`, JSON.stringify(profile));
            
            // Update UI
            document.getElementById('user-name').textContent = profile.username;
            
            // Close modal
            closeProfileModal();
            
            // Show notification
            showNotification('Profile updated successfully!');
        }

        // Logout
        function logout() {
            currentUser = null;
            isLoggedIn = false;
            userFavorites = [];
            userReactions = {};
            
            // Clear localStorage for demo (keep recipes)
            localStorage.removeItem('blazeKitchenUser');
            
            // Update UI
            updateUserInterface();
            
            // Show notification
            showNotification('Logged out successfully');
        }

        // Show notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Save recipes to localStorage (for demo persistence)
        function saveRecipes() {
            localStorage.setItem('blazeKitchenRecipes', JSON.stringify(recipes));
        }

        // Load recipes from localStorage
        function loadRecipes() {
            const savedRecipes = localStorage.getItem('blazeKitchenRecipes');
            if (savedRecipes) {
                // Merge with existing recipes
                const loadedRecipes = JSON.parse(savedRecipes);
                for (const category in loadedRecipes) {
                    if (!recipes[category]) {
                        recipes[category] = [];
                    }
                    // Add only new recipes to avoid duplicates
                    loadedRecipes[category].forEach(loadedRecipe => {
                        if (!recipes[category].some(r => r.id === loadedRecipe.id)) {
                            recipes[category].push(loadedRecipe);
                        }
                    });
                }
            }
        }

        // Initialize recipes
        loadRecipes();
    </script>
</body>
</html>